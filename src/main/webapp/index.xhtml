<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <link rel="stylesheet" href="css/style.css"/>
    <script src="script/index.js" />
    <title>Index Page</title>
</h:head>
<h:body>
    <header>
        <details>
            <summary><img src="https://se.ifmo.ru/o/helios-theme/images/cs_logo.png" alt="duck logo"/></summary>
            <p>
                Laboratory work â„–3<br/>
                Variant: 17223<br/>
                Student: Razinkin Alexander<br/>
                Group: P3207
            </p>
        </details>
    </header>
    <main>
        <canvas id="field-canvas" width="415" height="415"/>
        <h:form>
            <div class="input-from-container">
                <h1 class="form-title">
                    Try to hit the area
                </h1>
                <div class="form-fields">
                    <fieldset class="form-field">
                        <legend>
                            Choose X
                        </legend>
                        <h:selectOneMenu value="#{inputValuesBean.x}">
                            <f:selectItem itemLabel="Value: -4" itemValue="-4"/>
                            <f:selectItem itemLabel="Value: -3" itemValue="-3"/>
                            <f:selectItem itemLabel="Value: -2" itemValue="-2"/>
                            <f:selectItem itemLabel="Value: -1" itemValue="-1"/>
                            <f:selectItem itemLabel="Value: 0" itemValue="0"/>
                            <f:selectItem itemLabel="Value: 1" itemValue="1"/>
                            <f:selectItem itemLabel="Value: 2" itemValue="2"/>
                            <f:selectItem itemLabel="Value: 3" itemValue="3"/>
                            <f:selectItem itemLabel="Value: 4" itemValue="4"/>
                        </h:selectOneMenu>
                    </fieldset>
                    <fieldset class="form-field">
                        <legend>
                            Choose Y
                        </legend>
                        <h:inputText value="#{inputValuesBean.y}" required="true"
                                     styleClass="#{inputValuesBean.isValid ? '' : 'purple-border'}"/>
                    </fieldset>
                    <fieldset class="form-field">
                        <legend>
                            Choose R
                        </legend>
                        <p:inputText id="r-value" value="#{inputValuesBean.r}"/>
                        <p:slider for="r-value" minValue="1" maxValue="4" step="0.5"/>
                    </fieldset>
                </div>
                <div class="form-buttons">
                    <h:commandButton action="#{inputValuesBean.checkHit()}" value="validate"/>
                </div>
            </div>
        </h:form>
        <h:form>
            <h:dataTable value="#{attemptRepositoryBean.getAllAttempts()}" var="attempt">
                <h:column>
                    <f:facet name="header">x</f:facet>
                    #{attempt.x}
                </h:column>

                <h:column>
                    <f:facet name="header">y</f:facet>
                    #{attempt.y}
                </h:column>

                <h:column>
                    <f:facet name="header">r</f:facet>
                    #{attempt.r}
                </h:column>

                <h:column>
                    <f:facet name="header">date and time</f:facet>
                    #{attempt.formatTime()}
                </h:column>

                <h:column>
                    <f:facet name="header">isHit</f:facet>
                    #{attempt.isHit}
                </h:column>
            </h:dataTable>
        </h:form>
    </main>
</h:body>
</html>
